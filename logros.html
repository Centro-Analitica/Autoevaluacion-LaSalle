<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="stylo-log.css">
  <title>Logros</title>
</head>
<link rel="icon" type="image/jpg" href="imagenes/Logo-Universidad-de-La-Salle.jpg">
<body>
  <header>
    <div class="header-content">
      <a href="index.html" class="home-link" title="Volver a inicio">
        <span class="home-icon">🏢</span>
      </a>
      <h1>Logros</h1>
    </div>
  </header>

  <!-- Encabezado superior -->
  <div class="top-header">
    <img src="imagenes/Logosimbolo_color.png" alt="Logo La Salle" class="logo">
    <form id="searchForm" onsubmit="buscarContenido(event)">
      <input type="text" placeholder="Buscar..." class="search-box" id="searchInput">
    </form>
    <div class="top-header">
      <img src="imagenes/Auto_la_salle__2.0_-removebg-preview.png" alt="Autoevaluación" class="logo">
    </div>
  </div>

  <div id="logrosContainer"></div>

  <script>
    const logrosPorEje = [ 
      { 
        eje: "Gestión Institucional", 
        logros: [ 
          "Se fortalecieron los procesos de planeación estratégica.", 
          "Se implementó un sistema integrado de gestión institucional." 
        ] 
      }, 
      { 
        eje: "Académico", 
        logros: [ 
          "Mejoramiento de los planes de estudio.", 
          "Fortalecimiento del cuerpo docente." 
        ] 
      }, 
      { 
        eje: "Investigación", 
        logros: [ 
          "Incremento de grupos categorizados en Colciencias.", 
          "Mayor participación en convocatorias nacionales." 
        ] 
      }, 
      { 
        eje: "Proyección Social", 
        logros: [ 
          "Aumento en el número de convenios con comunidades.", 
          "Ejecución de proyectos de impacto social." 
        ] 
      }, 
      { 
        eje: "Bienestar", 
        logros: [ 
          "Programas de salud física y mental consolidados.", 
          "Ampliación de espacios deportivos y culturales." 
        ] 
      }, 
      { 
        eje: "Internacionalización", 
        logros: [ 
          "Participación en redes internacionales.", 
          "Movilidad estudiantil y docente fortalecida." 
        ] 
      } 
    ];

    const container = document.getElementById('logrosContainer');
    
    // Crear los botones de ejes con su contenido desplegable
    logrosPorEje.forEach((eje, i) => {
      // Crear un div contenedor para cada eje y su contenido
      const ejeContainer = document.createElement('div');
      ejeContainer.className = 'eje-container';
      
      // Crear el botón
      const button = document.createElement('button');
      button.className = 'button';
      button.textContent = `${i + 1}. Eje: ${eje.eje}`;
      button.setAttribute('data-index', i);
      
      // Crear el contenedor para el contenido desplegable
      const contenido = document.createElement('div');
      contenido.className = 'logro-contenido';
      contenido.id = `logro-${i}`;
      
      // Agregar título
      const titulo = document.createElement('h3');
      titulo.textContent = `Eje ${i + 1}: ${eje.eje}`;
      contenido.appendChild(titulo);
      
      // Agregar lista de logros
      const lista = document.createElement('ul');
      eje.logros.forEach(logro => {
        const li = document.createElement('li');
        li.textContent = logro;
        lista.appendChild(li);
      });
      contenido.appendChild(lista);
      
      // Agregar al DOM
      ejeContainer.appendChild(button);
      ejeContainer.appendChild(contenido);
      container.appendChild(ejeContainer);
      
      // Agregar evento de clic
      button.addEventListener('click', function() {
        const logroId = `logro-${this.getAttribute('data-index')}`;
        const logroContenido = document.getElementById(logroId);
        
        // Cerrar todos los demás
        document.querySelectorAll('.logro-contenido').forEach(el => {
          if (el.id !== logroId) {
            el.classList.remove('activo');
          }
        });
        
        // Quitar clase 'abierto' de todos los botones
        document.querySelectorAll('.button').forEach(btn => {
          if (btn !== this) {
            btn.classList.remove('abierto');
          }
        });
        
        // Alternar el estado del actual
        this.classList.toggle('abierto');
        logroContenido.classList.toggle('activo');
        
        // Hacer scroll al contenido si está abierto
        if (logroContenido.classList.contains('activo')) {
          logroContenido.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });
    
    // Función de búsqueda
    function buscarContenido(event) {
      event.preventDefault(); // Evita que el formulario se envíe
      
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      if (!searchTerm) return; // No buscar si está vacío
      
      // Elementos donde buscaremos (puedes agregar más)
      const elementos = document.querySelectorAll('h1, h2, h3, p, li, .button');
      
      // Limpiar resaltados anteriores
      document.querySelectorAll('.resaltado').forEach(el => {
        el.classList.remove('resaltado');
        el.style.backgroundColor = '';
      });
      
      // Buscar en los elementos
      let primerElementoEncontrado = null;
      
      elementos.forEach(elemento => {
        if (elemento.innerText.toLowerCase().includes(searchTerm)) {
          // Resaltar temporalmente
          elemento.style.backgroundColor = '#F2A900';
          elemento.style.transition = 'background-color 0.5s';
          elemento.classList.add('resaltado');
          
          // Si el elemento está dentro de un contenido desplegable, abrirlo
          const contenidoPadre = elemento.closest('.logro-contenido');
          if (contenidoPadre && !contenidoPadre.classList.contains('activo')) {
            const index = contenidoPadre.id.split('-')[1];
            const boton = document.querySelector(`.button[data-index="${index}"]`);
            if (boton) {
              // Cerrar todos los demás
              document.querySelectorAll('.logro-contenido').forEach(el => {
                if (el.id !== contenidoPadre.id) {
                  el.classList.remove('activo');
                }
              });
              
              // Quitar clase 'abierto' de todos los botones
              document.querySelectorAll('.button').forEach(btn => {
                if (btn !== boton) {
                  btn.classList.remove('abierto');
                }
              });
              
              // Abrir el actual
              boton.classList.add('abierto');
              contenidoPadre.classList.add('activo');
            }
          }
          
          // Guardar referencia al primer elemento encontrado
          if (!primerElementoEncontrado) {
            primerElementoEncontrado = elemento;
          }
        }
      });
      
      // Hacer scroll al primer elemento encontrado
      if (primerElementoEncontrado) {
        primerElementoEncontrado.scrollIntoView({ 
          behavior: 'smooth',
          block: 'center'
        });
        
        // Volver al color original después de 3 segundos
        setTimeout(() => {
          document.querySelectorAll('.resaltado').forEach(el => {
            el.style.backgroundColor = '';
          });
        }, 3000);
      }
    }
  </script>

  <footer class="footer">
    <div class="footer-content">
      <span class="left">Universidad de La Salle - Autoevaluación Institucional © 2025</span>
      <span class="right">Dirección de Planeación Estratégica - Centro de Analítica - Autoevaluación y Registro Calificado</span>
    </div>
  </footer>

</body>
</html>
